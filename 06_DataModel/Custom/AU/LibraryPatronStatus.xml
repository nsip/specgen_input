<DataObject xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns="http://sifassociation.org/SpecGen" name="LibraryPatronStatus">

  <Key>@SIF_RefId</Key>

  <Key>@SIF_RefObject</Key>

  <EventsReported>false</EventsReported>

  <Intro>

    <p>

      This object reports the current library status for the requested student or staff member.

      The minimum data that the object will return will be the patron's ElectronicId,

      the total number of materials that are checked out and overdue,

      and the number and amount of any fines that have been assessed to the patron.

      When a patron has materials that have been checked out, requested, or are overdue, the object will contain a <code>Transaction</code> element

      describing the details of the transaction.  Likewise, any fines that have an outstanding balance will also have a <code>Transaction</code> element for the fine.

    </p>

    <p>

      When a checked out item is returned to the library, it will not appear in the object, even if the item was overdue.  Fines that have an outstanding balance will be reported, but when the fine is paid, it will not appear in the object.

    </p>

  </Intro>

  <Item>

    <Element>LibraryPatronStatus</Element>

    <Description>

      <p>This object reports the current library status for the requested student or staff member.</p>

    </Description>

  </Item>

  <Item>

    <Attribute>RefId</Attribute>

    <Characteristics>M</Characteristics>

    <Description>

      <p>A GUID that identifies an instance of this object. This RefId is a &#8220;transient&#8221; value; that is, it SHOULD be generated by the provider at the time the object is provided in a Response message.  This value MUST NOT be used in a later Request for the object.</p>

    </Description>

    <Type ref="CommonTypes" name="RefIdType"/>

  </Item>

  <Item>

    <Element>LibraryType</Element>

    <Characteristics>M</Characteristics>

    <Description>

      <p>A library-defined language-independent value that refers to a specific patron type.</p>

    </Description>

    <Type name="xs:string"/>

  </Item>

  <Item>

    <Element>Patron_RefId</Element>

    <Characteristics>C</Characteristics>

    <Description>

      <p>The SIF wide unique identifier of a Patron.</p>

    </Description>

    <Type ref="CommonTypes" name="IdRefType"/>

  </Item>
  
  <Item>

    <Element>Patron_LocalId</Element>

    <Characteristics>C</Characteristics>

    <Description>

      <p>The Local unique identifier of a Patron.</p>

    </Description>

    <Type ref="CommonTypes" name="LocalIdType"/>

  </Item>

  <Item>

    <Element>Patron_RefObject</Element>

    <Characteristics>M</Characteristics>

    <Description>

      <p>The type of patron mapped to a SIF supported object. Library automation products work with patrons who could be students or teachers.</p>

    </Description>
	<Values>
		<Value>
			<Code>Student</Code>
			<Description>Student Patron</Description>
		</Value>
		<Value>
			<Code>Staff</Code>
			<Description>Staff Patron</Description>
		</Value>
	</Values>

  </Item>

  <Item>

    <Element>ElectronicIdList</Element>

    <Characteristics>M</Characteristics>

    <Description>

      <p>List of electronic identifiers associated with the patron.</p>

    </Description>

    <Type ref="CommonTypes" name="ElectronicIdListType"/>

  </Item>

  <Item>

    <Element>TransactionList</Element>

    <Characteristics>O</Characteristics>

    <Description>

      <p>List of transactions.</p>

    </Description>

    <Type ref="CommonTypes" name="LibraryTransactionListType"/>

  </Item>

  <Item>

    <Element>MessageList</Element>

    <Characteristics>O</Characteristics>

    <Description>

      <p>List of messages for/regarding the patron.</p>

    </Description>

    <Type ref="CommonTypes" name="LibraryMessageListType"/>

  </Item>

  <Item>

    <Element>NumberOfCheckouts</Element>

    <Characteristics>M</Characteristics>

    <Description>

      <p>The total number of items that this patron currently has checked out including overdue items.</p>

    </Description>

    <Type name="xs:unsignedInt"/>

  </Item>

  <Item>

    <Element>NumberOfOverdues</Element>

    <Characteristics>M</Characteristics>

    <Description>

      <p>The total number of checkouts that are currently overdue.</p>

    </Description>

    <Type name="xs:unsignedInt"/>

  </Item>

  <Item>

    <Element>NumberOfFines</Element>

    <Characteristics>M</Characteristics>

    <Description>

      <p>The total number of fines currently assessed to this patron.</p>

    </Description>

    <Type name="xs:unsignedInt"/>

  </Item>

  <Item>

    <Element>FineAmount</Element>

    <Characteristics>M</Characteristics>

    <Description>

      <p>The total monetary amount of the fines that this patron currently owes the library expressed as a positive number.</p>

    </Description>

    <Type ref="CommonTypes" name="MonetaryAmountType"/>

  </Item>

  <Item>

    <Element>NumberOfRefunds</Element>

    <Characteristics>O</Characteristics>

    <Description>

      <p>The total number of refunds currently credited to this patron.</p>

    </Description>

    <Type name="xs:unsignedInt"/>

  </Item>

  <Item>

    <Element>RefundAmount</Element>

    <Characteristics>O</Characteristics>

    <Description>

      <p>The total monetary amount of the refunds that the library currently owes the patron expressed as a positive number.</p>

    </Description>

    <Type ref="CommonTypes" name="MonetaryAmountType"/>

  </Item>

  <Item>

    <Element>SIF_Metadata</Element>

    <Characteristics>O</Characteristics>

    <Type ref="CommonTypes" name="SIF_MetadataType"/>

  </Item>

  <Item>

    <Element>SIF_ExtendedElements</Element>

    <Characteristics>O</Characteristics>

    <Type ref="CommonTypes" name="SIF_ExtendedElementsType"/>

  </Item>

  <xhtml:Example xmlns="">

    <LibraryPatronStatus RefId="359D75101AD0A9D7A8C3DAD0A85103A2" LibraryType="S" SIF_RefId="52DBFBFC021311D68E8C00039303AE9C" SIF_RefObject="StudentPersonal">

      <ElectronicIdList>

        <ElectronicId Type="Barcode">P 7676</ElectronicId>

        <ElectronicId Type="Magstripe">200606300007676JJI</ElectronicId>

        <ElectronicId Type="PIN">1234</ElectronicId>

        <ElectronicId Type="RFID">0EF3098055921FEDC008FEEB</ElectronicId>

      </ElectronicIdList>

      <TransactionList>

        <Transaction>

          <ItemInfo Type="LibraryMaterial">

            <Title>Redwall</Title>

            <Author>Brian Jacques</Author>

            <ElectronicId Type="Barcode">T 311</ElectronicId>

            <CallNumber>YA JACQ</CallNumber>

            <Price Currency="USD">6.99</Price>

          </ItemInfo>

          <CheckoutInfo>

            <ReturnBy>2006-01-04T23:59:59-05:00</ReturnBy>

          </CheckoutInfo>

          <FineInfoList>

            <FineInfo Type="Overdue">

              <Assessed>2006-01-06T13:19:00-05:00</Assessed>

              <Description>ESTIMATED FINE FOR OVERDUE ITEM</Description>

              <Amount Currency="USD">0.50</Amount>

            </FineInfo>

          </FineInfoList>

        </Transaction>

        <Transaction>

          <ItemInfo Type="LibraryMaterial">

            <Title>Mossflower</Title>

            <Author>Brian Jacques</Author>

            <ElectronicId Type="Barcode">T 1211</ElectronicId>

            <CallNumber>YA JACQ</CallNumber>

            <Price Currency="USD">7.49</Price>

          </ItemInfo>

          <HoldInfoList>

            <HoldInfo Type="Ready">

              <DatePlaced>2005-12-18</DatePlaced>

              <DateNeeded>2006-01-16</DateNeeded>

              <MadeAvailable>2006-01-05</MadeAvailable>

              <Expires>2006-02-01</Expires>

            </HoldInfo>

          </HoldInfoList>

        </Transaction>

        <Transaction>

          <ItemInfo Type="LibraryMaterial">

            <Title>The Bellmaker</Title>

            <Author>Brian Jacques</Author>

          </ItemInfo>

          <HoldInfoList>

            <HoldInfo Type="NotReady">

              <DatePlaced>2005-12-18</DatePlaced>

            </HoldInfo>

          </HoldInfoList>

        </Transaction>

        <Transaction>

          <ItemInfo Type="Textbook">

            <Title>Passport to Algebra and Geometry</Title>

            <Author>Larson, Boswell, Kanold and Stiff</Author>

            <ElectronicId Type="Barcode">98770000178215</ElectronicId>

            <Price Currency="USD">57.18</Price>

          </ItemInfo>

          <CheckoutInfo>

            <ReturnBy>2006-06-15T23:59:59-05:00</ReturnBy>

          </CheckoutInfo>

        </Transaction>

        <Transaction>

          <ItemInfo Type="LibraryMaterial">

            <Title>Harry Potter and the Goblet of Fire</Title>

            <Author>JK Rowlings</Author>

            <ElectronicId Type="Barcode">T 99321</ElectronicId>

          </ItemInfo>

          <FineInfoList>

            <FineInfo Type="Refund">

              <Assessed>2006-01-02T09:29:00-05:00</Assessed>

              <Description>Lost item returned</Description>

              <Amount Currency="USD">28.90</Amount>

            </FineInfo>

          </FineInfoList>

        </Transaction>

        <Transaction>

          <FineInfoList>

            <FineInfo Type="Other">

              <Assessed>2006-01-04T10:14:00-05:00</Assessed>

              <Description>Running in library</Description>

              <Amount Currency="USD">1.00</Amount>

              <Reference>42</Reference>

            </FineInfo>

          </FineInfoList>

        </Transaction>

      </TransactionList>

      <MessageList>

        <Message Priority="Normal">

          <Text>This is a normal message.</Text>

        </Message>

        <Message Priority="Urgent">

          <Sent>2006-01-12T14:01:00-05:00</Sent>

          <Text>This is an URGENT message!</Text>

        </Message>

      </MessageList>

      <NumberOfCheckouts>1</NumberOfCheckouts>

      <NumberOfOverdues>1</NumberOfOverdues>

      <NumberOfFines>1</NumberOfFines>

      <FineAmount Currency="USD">1.00</FineAmount>

      <NumberOfRefunds>1</NumberOfRefunds>

      <RefundAmount Currency="USD">28.90</RefundAmount>

    </LibraryPatronStatus>

  </xhtml:Example>

</DataObject>
